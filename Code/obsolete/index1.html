<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Changes of global conditions over the last decades</title>
    <!-- Stili CSS -->
    <link rel="stylesheet" href="style1.css">
    <!-- Font per migliorare la leggibilit√† -->
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600&display=swap">
</head>
<body>
    <!-- Intestazione -->
    <header class="hero">
        <h1> How global life conditions has changed <br> over the last decades</h1>
        <p class="subtitle">Scorri per vedere come i dati si trasformano</p>
        <div class="scroll-hint">
            <span>‚Üì Scorri verso il basso ‚Üì</span>
        </div>
    </header>

    <!-- Indice di navigazione laterale -->
<nav class="scroll-index">
    <ul class="index-list">
        <li class="index-item">
            <a href="#intro" class="index-link active" data-index="0">
                <span class="index-dot"></span>
                <span class="index-text">Introduzione</span>
            </a>
        </li>
        <li class="index-item">
            <a href="#step1" class="index-link" data-index="1">
                <span class="index-dot"></span>
                <span class="index-text">Anno 2000</span>
            </a>
        </li>
        <li class="index-item">
            <a href="#step2" class="index-link" data-index="2">
                <span class="index-dot"></span>
                <span class="index-text">Transizione 2010</span>
            </a>
        </li>
        <li class="index-item">
            <a href="#step3" class="index-link" data-index="3">
                <span class="index-dot"></span>
                <span class="index-text">Proiezione 2025</span>
            </a>
        </li>
    </ul>
    
    <!-- Indicatore di progresso -->
    <div class="scroll-progress">
        <div class="progress-bar">
            <div class="progress-fill" id="progress-fill"></div>
        </div>
        <div class="progress-text" id="progress-text">0%</div>
    </div>
</nav>

    <!-- Sezione principale con effetto scorrimento -->
    <main id="scrolly">
        <!-- Contenitore FISSO per il grafico -->
        <div class="sticky-chart">
            <div id="chart"></div>
            <!-- Legenda dinamica -->
            <div class="legend-container">
                <div class="legend">
                    <div class="legend-item">
                        <span class="legend-color" style="background-color: #4e79a7;"></span>
                        <span id="legend-label">Popolazione (2000)</span>
                    </div>
                    <div class="legend-item">
                        <span class="legend-color" style="background-color: #f28e2c;"></span>
                        <span>Dati attuali: <strong id="current-year">2000</strong></span>
                    </div>
                </div>
            </div>
        </div>

        <!-- Articolo con le sezioni di testo (step) -->
        <article class="story">
            <!-- STEP 1 -->
            <section class="step" data-step="1">
                <div class="step-content">
                    <h2>üìà L'Anno 2000</h2>
                    <p>All'inizio del millennio, la popolazione mondiale era di <strong>6.1 miliardi</strong> di persone. L'Asia rappresentava la maggior parte della crescita demografica.</p>
                    <p>In questa visualizzazione, ogni cerchio rappresenta <strong>100 milioni</strong> di persone in una regione specifica.</p>
                    <div class="step-indicator">Passo 1 di 3</div>
                </div>
            </section>

            <!-- STEP 2 -->
            <section class="step" data-step="2">
                <div class="step-content">
                    <h2>üåç Transizione al 2010</h2>
                    <p>Nel 2010, la popolazione ha raggiunto <strong>6.9 miliardi</strong>. L'urbanizzazione accelerava, specialmente in Africa e Asia.</p>
                    <p>Nota come i cerchi dell'Africa diventano pi√π numerosi, riflettendo la rapida crescita in questa regione.</p>
                    <div class="step-indicator">Passo 2 di 3</div>
                </div>
            </section>

            <!-- STEP 3 -->
            <section class="step" data-step="3">
                <div class="step-content">
                    <h2>üöÄ Proiezione 2025</h2>
                    <p>Entro il 2025, si prevede che la popolazione mondiale raggiunger√† <strong>8.0 miliardi</strong>. L'Asia continuer√† a dominare, ma l'Africa mostrer√† la crescita percentuale pi√π elevata.</p>
                    <p>Questo cambiamento demografico avr√† profonde implicazioni per l'economia globale e le politiche ambientali.</p>
                    <div class="step-indicator">Passo 3 di 3</div>
                </div>
            </section>
        </article>
    </main>

    <!-- Footer -->
    <footer>
        <p>Demo di narrativa a scorrimento con D3.js | Fai scorrere su e gi√π per vedere l'effetto</p>
    </footer>

    <!-- Librerie JavaScript (inserite alla fine per prestazioni) -->
    <script src="https://d3js.org/d3.v7.min.js"></script>
    <script src="https://unpkg.com/scrollama@3.2.0/build/scrollama.min.js"></script>
    <script src="script.js"></script>
</body>
</html>